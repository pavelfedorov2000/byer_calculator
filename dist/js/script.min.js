function isInt(e){return!isNaN(e)&&parseInt(Number(e))==e&&!isNaN(parseInt(e,10))}$(document).ready((function(){var e={"Жилой комплекс":{fire:[0,12e5,15e5,15e5,15e5,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5],network:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],safety:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],other:{fire:{plan:45e4,risk:25e4,mcs:5e5},network:{constructive:8e5,transport:6e5,science:5e5},safety:0}},"Торгово-развлекательный центр":{fire:[0,14e5,17e5,17e5,17e5,17e5,21e5,21e5,21e5,21e5,24e5,24e5,24e5,24e5,24e5,24e5,27e5,27e5,27e5,27e5,27e5],network:[0,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],safety:[0,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],other:{fire:{plan:45e4,risk:25e4,mcs:5e5},network:{constructive:8e5,transport:6e5,science:5e5},safety:0}},"Административное здание":{fire:[0,12e5,15e5,15e5,15e5,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5],network:[0,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],safety:[0,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],other:{fire:{plan:45e4,risk:45e4,mcs:5e5},network:{constructive:8e5,transport:6e5,science:5e5},safety:0}},"Спортивный комплекс":{fire:[0,14e5,17e5,17e5,17e5,17e5,21e5,21e5,21e5,21e5,24e5,24e5,24e5,24e5,24e5,24e5,27e5,27e5,27e5,27e5,27e5],network:[0,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],safety:[0,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],other:{fire:{plan:45e4,risk:45e4,mcs:5e5},network:{constructive:8e5,transport:6e5,science:5e5},safety:0}},"Производственный комплекс":{fire:[0,12e5,15e5,15e5,15e5,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5],network:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],safety:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],other:{fire:{plan:45e4,risk:45e4,mcs:5e5},network:{constructive:8e5,transport:6e5,science:5e5},safety:95e4}},"Складской комплекс":{fire:[0,12e5,15e5,15e5,15e5,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5],network:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],safety:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],other:{fire:{plan:45e4,risk:45e4,mcs:5e5},network:{constructive:8e5,transport:6e5,science:5e5},safety:0}},"Объект транспортной инфраструктуры":{fire:[0,12e5,15e5,15e5,15e5,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5],network:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],safety:[0,15e5,17e5,17e5,17e5,17e5,2e6,2e6,2e6,2e6,25e5,25e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,3e6],other:{fire:{plan:45e4,risk:45e4,mcs:5e5},network:{constructive:8e5,transport:6e5,science:5e5},safety:0}},"Метрополитен":{fire:[0,17e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,4e6,4e6,4e6,4e6,4e6,4e6,7e6,7e6,7e6,7e6,7e6],network:[0,2e6,25e5,25e5,25e5,25e5,27e5,27e5,27e5,27e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],safety:[0,2e6,25e5,25e5,25e5,25e5,27e5,27e5,27e5,27e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],other:{fire:{plan:75e4,risk:75e4,mcs:9e5},network:{constructive:11e5,transport:8e5,science:8e5},safety:95e4}},"Объект нефте-газовой промышленности":{fire:[0,17e5,25e5,25e5,25e5,25e5,3e6,3e6,3e6,3e6,4e6,4e6,4e6,4e6,4e6,4e6,7e6,7e6,7e6,7e6,7e6],network:[0,2e6,25e5,25e5,25e5,25e5,27e5,27e5,27e5,27e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],safety:[0,2e6,25e5,25e5,25e5,25e5,27e5,27e5,27e5,27e5,3e6,3e6,3e6,3e6,3e6,3e6,35e5,35e5,35e5,35e5,35e5],other:{fire:{plan:75e4,risk:75e4,mcs:8e5},network:{constructive:!1,transport:!1,science:!1},safety:95e4}}};let t=document.querySelectorAll('input[name="stu_calcs"]');$("body").on("change","#calc_object_purpose",(function(){$("#calc_object_purpose").find("option:selected").val();var e=$(this).find("option:selected").val();console.log(e),"Не выбрано"==e?$("#calc_stu").addClass("calculator-form__item--disabled"):$("#calc_stu").removeClass("calculator-form__item--disabled");let s=document.querySelector("#calc_stu_type").selectedIndex;if(console.log(s),0!==s){o=[],c=0;for(let e=0;e<t.length;e++)t[e].checked=!1}})),$("body").on("change","#calc_stu_type",(function(){o=[],c=0;$("#calc_object_purpose").find("option:selected").val();console.log(c);var e=$(this).find("option:selected").val();console.log(e);var s=$(this).find("option:selected").index();console.log(s),"Не выбрано"==e?($("#calc_deviations").addClass("calculator-form__item--disabled"),$("#calc_vat").addClass("calculator-form__item--disabled"),$("#calc_count").addClass("calculator-form__btn--disabled"),$("#calc_order").addClass("calculator-form__btn--disabled")):($("#calc_deviations").removeClass("calculator-form__item--disabled"),$("#calc_vat").removeClass("calculator-form__item--disabled"),$("#calc_count").removeClass("calculator-form__btn--disabled"),$("#calc_order").removeClass("calculator-form__btn--disabled"));for(let e=0;e<t.length;e++)t[e].checked=!1;let a=document.querySelectorAll(".calculator-form__stu-checks");if(0!==s){$(".calculator-form__stu-item").show();for(let e=0;e<a.length;e++)a[e].style.display="none",a[s-1].style.display="block"}}));var o=[],c=0;$("body").on("change","input[name='stu_calcs']",(function(){var t=$(this).val();console.log(t);var s=$("#calc_object_purpose").find("option:selected").val(),a=$("#calc_stu_type").find("option:selected").val(),n=o.indexOf(e[s].other[a][t]);$(this).is(":checked")?"safety"===a?(o.push(e[s].other[a]),console.log(o)):(o.push(e[s].other[a][t]),console.log(o)):(o.splice(n),console.log(o)),c=o.length>0?o.reduce((e,t)=>e+t):0,console.log(c)}));let s;$("#calc_deviations_numbers").ionRangeSlider({step:1,min:1,max:12e5,onStart:function(e){s=e.from},onChange:function(e){s=e.from,console.log(s)}}),$("body").on("click","#calc_count",(function(){!function(){var t=$("#calc_object_purpose").find("option:selected").val(),o=$("#calc_stu_type").find("option:selected").val(),s=$("#calc_deviations_numbers").val(),a=$('input[name="vat_cost"]:checked').val();addVat=1,1==a&&(addVat=1.2);console.log("Выбрано: "+t,o,s);var n=e[t][o][s]+c;if(console.log("found: "+n),isInt(n)){var l=n*addVat;console.log(l),$("#calc_cost").html(l+" руб.")}}()}))}));